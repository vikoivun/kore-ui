{
    "root": true,
    "parserOptions": {
        "ecmaVersion": 7,
        "sourceType": "module",
        "ecmaFeatures": {
            "jsx": true
        }
    },
    "env": {
        "browser": true,
        "mocha": true,
        "node": true
    },
    "plugins": [
        "react"
    ],
    "extends": [
        "airbnb"
    ],
    // Local overrides from Airbnb
    "rules": {
        "comma-dangle": ["error", {
            "exports": "always-multiline",
            "arrays": "always-multiline",
            "objects": "always-multiline",
            "imports": "always-multiline",
            // Dangling commas for functions would require ES8
            "functions": "never"
        }],
        // Empty lines at beginning of file look horrible
        "no-multiple-empty-lines": ["error", { "max": 2, "maxEOF": 1, "maxBOF": 0 }],
        // React 0.13 does not support functional components
        "react/prefer-stateless-function": "off",
        // replace console with something or remove entirely
        "no-console": "warn"
    },
    "settings": {
        "react": {
            "version": "0.13"
        }
    },
    "overrides": [
        {
            // Deployment file seems to follow its own rules
            "files": [ "deploy.js" ],
	    "parserOptions": {
                "ecmaVersion": 7,
                "sourceType": "script",
                "ecmaFeatures": {
                    "jsx": false,
                    "globalReturn": true
                }
            }
        },
        {
            // Tests use chai, which does side-effects using getters,
            // which look like no-ops to eslint
            "files": [ "app/*/__tests__/*.js" ],
            "plugins": [ "chai-friendly"],
            "rules": {
                "no-unused-expressions": "off",
                "chai-friendly/no-unused-expressions": "error"
            }
        }
    ]
}
